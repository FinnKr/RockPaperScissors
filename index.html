<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors by Emil Merle</title>
</head>
<body>
    <script>
        //returns a pseudorandom choice
        function computerPlay(){
            let choiceNumber = Math.floor(Math.random()*3)
            switch (choiceNumber) {
                case 0:
                    return "Rock"
                    break;
                case 1:
                    return "Paper"
                    break;
                case 2:
                    return "Scissors"
                    break;
                default:
                    return "Something went wrong"
                    break;
            }
        }

        //evaluates a winner of a single round
        function playRound(playerChoice, computerChoice){
            let playerChoiceFinal = playerChoice.toLowerCase();
            let computerChoiceFinal = computerChoice.toLowerCase();
            if(playerChoiceFinal == computerChoiceFinal){
                return "Draw!"
            }
            switch (playerChoiceFinal) {
                case "rock":
                    if(computerChoiceFinal == "scissors"){
                        return "You Win! Rock beats Scissors";
                    }else{
                        return "You Lose! Paper beats Rock";
                    }
                    break;
                case "paper":
                    if(computerChoiceFinal == "rock"){
                        return "You Win! Paper beats Rock"
                    }else{
                        return "You Lose! Scissors beats paper"
                    }
                    break;
                case "scissors":
                    if(computerChoiceFinal == "rock"){
                        return "You Lose! Rock beats Scissors"
                    }else{
                        return "You Win! Scissors beats Paper"
                    }
                    break;
                default:
                    return "Wrong input! No winner"
                    break;
            }
        }
        //game() plays a five rund game
        function game(){
            let playerScore = 0;
            let computerScore = 0;
            for(i = 0; i < 5; i++){
                let choice = prompt("Your choice?");
                let temp = playRound(choice, computerPlay());
                let winner = temp[4];
                console.log("Round " + Number(i+1) + ":");
                console.log(temp);
                //looks at index 4 of the playRound return value and evaluates the winner:
                if(winner == "W"){
                    playerScore++;
                }
                else if(winner == "L"){
                    computerScore++;
                }
            }

            //prints a message with the winner
            let message;
            if(playerScore > computerScore){
                message = "After five rounds you win with " + playerScore + " : " + computerScore;
            }else if(playerScore < computerScore){
                message = "After five rounds you lose with " + playerScore + " : " + computerScore;
            }
            else{
                message = "After five rounds the score is " + playerScore + " : " + computerScore;
            }
            console.log(message);
        }
    </script>
</body>
</html>